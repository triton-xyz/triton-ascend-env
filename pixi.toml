[workspace]
authors = ["Allen Guo <guosonglin001@gmail.com>"]
channels = ["conda-forge"]
name = "triton-ascend-env"
platforms = ["osx-arm64", "linux-64"]
version = "0.1.0"

[tasks]

[dependencies]
python = "==3.13"
uv = ">=0.9.17,<0.10"
setuptools = ">=80.9.0,<81"

clang = ">=21.1.6,<22"
clangxx = ">=21.1.6,<22"
clang-tools = ">=21.1.6,<22"
lld = ">=21.1.6,<22"
mold = ">=2.40.4,<3"

cmake = ">=4.2.0,<5"
pkg-config = ">=0.29.2,<0.30"
ninja = ">=1.13.2,<2"
git = ">=2.52.0,<3"
patch = ">=2.8,<3"

pytorch = ">=2.9.1,<3"
pybind11 = ">=3.0.1,<4"
pybind11-global = ">=3.0.1,<4"
scikit-build = ">=0.18.1,<0.19"
scikit-build-core = ">=0.11.6,<0.12"

# common toolsÂ 
ripgrep = ">=15.1.0,<16"
go-shfmt = ">=3.12.0,<4"
fd-find = ">=10.3.0,<11"
ruff = ">=0.14.11,<0.15"
ty = ">=0.0.11,<0.0.12"

[activation.env]
# CANN_PATH_2 = "${PIXI_PROJECT_ROOT}/AscendNPU-IR/build/bin:${PATH}"
CANN_PATH_1 = "${PIXI_PROJECT_ROOT}/ascend-cann-toolkit/run_package/ascendnpu-ir/bishengir/bin"
CANN_PATH_0 = "${PIXI_PROJECT_ROOT}/ascend-cann-toolkit/run_package/cann-bisheng-compiler/bisheng_compiler/bin"
PATH = "${CANN_PATH_1}:${CANN_PATH_0}:${PATH}"
# for `AscendNPU-IR`
BISHENG_INSTALL_PATH = "${CANN_PATH_0}"
# for `triton-ascend`
ASCEND_HOME_PATH = "${PIXI_PROJECT_ROOT}/ascend-cann-toolkit/run_package/cann-bisheng-compiler/bisheng_compiler"
# MLIR_ROOT = "${PIXI_PROJECT_ROOT}/llvm-ascend/llvm-project/build"
# LLVM_ROOT = "${PIXI_PROJECT_ROOT}/llvm-ascend/llvm-project/build"
